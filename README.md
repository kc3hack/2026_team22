# SleepSupportApp

![SleepSupportApp](https://kc3.me/cms/wp-content/uploads/2026/02/444e7120d5cdd74aa75f7a94bf8821a5-scaled.png)

## チーム名

チーム22

## 背景・課題・解決されること

### 背景

現代社会では、スマートフォンの長時間利用や不規則な生活リズムにより、睡眠の質が低下している人が増えています。特に関西圏の学生や社会人は、通勤・通学時間の長さや夜型の生活習慣から、十分な睡眠を確保できていないケースが多く見られます。

### 課題

- 自分の寝室環境（明るさ・騒音）が睡眠に適しているか客観的に把握できない
- 理想的な睡眠スケジュールを立てても、なかなか継続できない
- 朝の目覚めが悪く、二度寝してしまう

### 解決

SleepSupportApp は、スマートフォンのセンサーを活用して寝室の環境（照度・騒音）をリアルタイムにモニタリングし、AI が個人に最適化された週間睡眠プランを生成します。さらに、ミッション付きアラーム機能により確実な起床をサポートし、睡眠ログの記録・分析を通じて継続的な睡眠改善を実現します。

## プロダクト説明

SleepSupportApp は、AI 駆動の総合睡眠支援 Android アプリケーションです。

### 主な機能

- **睡眠環境モニタリング**: スマートフォンのセンサーで寝室の照度・騒音レベルをリアルタイム計測し、睡眠に適した環境かどうかをスコアリング
- **AI 睡眠プラン生成**: ユーザーのスケジュールや睡眠履歴に基づき、LLM が最適な週間睡眠プランを自動生成
- **睡眠ログ・分析**: 日々の睡眠スコアや気分を記録し、週間トレンドをグラフで可視化
- **ミッション付きアラーム**: 段階的アラーム（やさしい → 厳しい）と、カメラを使ったターゲット撮影チャレンジによる確実な起床サポート
- **睡眠スケジュール管理**: 起床時間・睡眠時間の設定と、それに基づいたアドバイスの提供

## 操作説明・デモ動画

[デモ動画はこちら](https://www.youtube.com/watch?v=fbzGp0XJGq8)

### 基本的な使い方

1. アプリを起動し、アカウントを作成・ログイン
2. 設定画面で起床時間・希望睡眠時間を設定
3. ホーム画面で今日の睡眠プランを確認
4. 就寝前に睡眠モニターを起動し、寝室環境をチェック
5. アラームが設定された時間に段階的に鳴動し、必要に応じてミッションをクリアして起床
6. 起床後に気分を記録し、睡眠ログで自分の睡眠傾向を振り返り

## 注力したポイント

### アイデア面

- スマートフォンの内蔵センサー（照度・マイク）を活用することで、専用デバイスなしに睡眠環境を計測できるようにした点
- LLM による個人最適化された睡眠プラン生成で、画一的なアドバイスではなくユーザーに寄り添った提案を実現
- カメラを使ったミッション型アラームにより、ゲーミフィケーション要素で楽しく確実に起床できる仕組み

### デザイン面

- 就寝前の利用を考慮し、目に優しい落ち着いた配色とシンプルな UI を採用
- 睡眠フェーズ（準備 → 入眠前 → 睡眠中）に応じた画面遷移で、直感的な操作体験を実現
- 睡眠スコアやトレンドをグラフで可視化し、改善の実感を得やすいデザイン

### その他

- バックグラウンドでのセンサー計測に対応し、画面オフ時でもモニタリングを継続
- 睡眠プランのキャッシュ機構を実装し、LLM API への不要なリクエストを削減
- Onion Architecture（バックエンド）と FSD Lite（フロントエンド）による保守性の高いコード設計

## 使用技術

### フロントエンド

| カテゴリ | 技術 | バージョン |
| --- | --- | --- |
| フレームワーク | React Native (Expo) | SDK 54 |
| 言語 | TypeScript | strict mode |
| ルーティング | Expo Router | v6 (file-based) |
| 状態管理 | Zustand | v5 |
| パッケージマネージャ | pnpm | 9.x |
| 認証 | Supabase Auth | - |
| センサー | expo-sensors, expo-camera, expo-av | - |
| 通知 | expo-notifications | - |
| バックグラウンド処理 | react-native-background-actions | - |

### バックエンド

| カテゴリ | 技術 | バージョン |
| --- | --- | --- |
| フレームワーク | FastAPI | v0.109+ |
| 言語 | Python | 3.11+ |
| ORM | SQLAlchemy 2 (async) | v2.0+ |
| データベース | PostgreSQL | asyncpg |
| マイグレーション | Alembic | v1.13+ |
| パッケージマネージャ | uv | - |
| LLM 連携 | OpenRouter API (httpx) | - |
| 認証 | Supabase JWT + PyJWT | - |

### インフラ・DevOps

| カテゴリ | 技術 |
| --- | --- |
| コンテナ | Docker / Docker Compose |
| 認証基盤 | Supabase (Cloud) |
| タスク自動化 | Taskfile (go-task) |
| コード品質 | ESLint, Prettier, Ruff, MyPy |
| 型チェック | TypeScript (tsc), MyPy |

<!--
markdownの記法はこちらを参照してください！
https://docs.github.com/ja/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax
-->
